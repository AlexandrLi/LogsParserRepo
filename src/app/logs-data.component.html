<div class="col-md-3">
  <select class="form-control clickable" #u (change)="selectServer(u.value)">
    <option value="">Select a server...</option>
    <option *ngFor="let server of servers" value="{{server}}">{{server}}</option>
  </select>
  <accordion>
    <file-tree [tree]="fileTree" (select)="selectLogFile($event)"></file-tree>
  </accordion>
</div>
<div *ngIf="currentPath" class="col-md-7">
  <p>Current log path: {{currentPath}}</p>
  <form #form="ngForm" role="search" (ngSubmit)="getLoggedMessagesList(form.value)">
    <div class="input-group">
      <input id="flowId" ngModel name="flowId" #flowId="ngModel" type="text" class="form-control" placeholder="Enter flowId" required>
      <span class="input-group-btn">
        <button type="submit" class="btn btn-default">Find</button>
      </span>
    </div>
  </form>
  <spinner [visible]="isLoading"></spinner>
  <div *ngIf="currentFlowId && logResultList" class="form-group">
    <accordion>
      <accordion-group #group *ngFor="let logResult of logResultList">
        <div accordion-heading>
          {{logResult.fileName}}
          <i class="pull-right float-xs-right glyphicon" [ngClass]="{'glyphicon-chevron-down': group?.isOpen, 'glyphicon-chevron-right': !group?.isOpen}"></i>
        </div>
        <handy-syntax-highlighter *ngFor="let message of logResult.messages" [language]="'markup'" [content]="message"></handy-syntax-highlighter>
      </accordion-group>
    </accordion>
  </div>
</div>
